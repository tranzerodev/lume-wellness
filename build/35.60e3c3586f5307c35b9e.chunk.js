(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{afc8a3145a28fa62f91a:function(e,t,n){"use strict";n.r(t);var o,r=n("8af190b70a6bc55c6f1b"),i=n("0b3cb19af78752326f59"),a=n("304c2051897f84193d48"),c=n("d364a7f2cbfc76283ade"),l=n("cb12d4155305786bdcf4");function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});if(1===a)t.children=r;else if(a>1){for(var l=new Array(a),s=0;s<a;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=Object(i.d)(l.Col).withConfig({displayName:"Demo__Container",componentId:"sc-7uk49b-0"})(["border:1px solid black;margin:50px;padding:20px;"]),b=u(a.StripeProvider,{apiKey:"pk_test_m3tVmGXmLg0cJ5KIhPS4mnTf00hwIkxBWG"},void 0,u("div",{className:"example"},void 0,u("h1",{},void 0,"Lume Booking Prototype"),u(a.Elements,{},void 0,u(c.a,{})))),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,d(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return u(l.Row,{},void 0,u(h,{md:{span:6,offset:3},sm:{span:10,offset:1}},void 0,b))}}])&&p(n.prototype,o),i&&p(n,i),t}();t.default=v},d364a7f2cbfc76283ade:function(e,t,n){"use strict";var o,r=n("8af190b70a6bc55c6f1b"),i=n("304c2051897f84193d48"),a=n("cb12d4155305786bdcf4"),c=n("6a350555224e5e42234f"),l=n.n(c),s=n("c3351205cf0761bd654a"),u=n("6d0b3088082c0f598087"),p=n.n(u),f=(n("f85e09def79cc2a20bc2"),n("7286e4d32da69e8d8af9")),d=n("0b3cb19af78752326f59"),m=n("bd183afcc37eabd79225"),h=n.n(m);function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});if(1===a)t.children=r;else if(a>1){for(var l=new Array(a),s=0;s<a;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,o,r,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,r)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=d.d.select.withConfig({displayName:"PaymentForm__ServiceSelector",componentId:"b5dgbr-0"})(["border:1px solid blue;border-radius:0px !important;padding:5px;width:250px !important;margin:0px;min-height:40px !important;width:100px;"]),O=Object(d.d)(p.a).withConfig({displayName:"PaymentForm__Time",componentId:"b5dgbr-1"})(["border:1px solid blue;padding:5px;margin:10px 0px;min-height:40px;width:250px;"]),k=Object(d.d)(i.CardElement).withConfig({displayName:"PaymentForm__CardForm",componentId:"b5dgbr-2"})(["border:1px solid blue;padding:10px;margin:10px 0px;min-height:40px;"]),P=(s.c,v("h1",{},void 0,"Purchase Complete")),j=v(f.ToastContainer,{}),I=v("p",{},void 0,"Would you like to complete the your Booking ??? "),N=v(a.Form.Label,{},void 0,"Customer Name "),F=v(a.Form.Label,{},void 0,"Contact Info"),T=v(a.Form.Label,{},void 0,"Select Service"),E=v("br",{}),L=v("div",{},void 0,"Pick a time"),R=v("div",{},void 0,"Enter payment information"),D=v(k,{}),B=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=S(t).call(this,e),n=!r||"object"!==b(r)&&"function"!==typeof r?w(o):r,C(w(n),"handleChange",function(e){n.setState({appointmentTime:e})}),C(w(n),"handleService",function(e){var t=n.state.services.filter(function(t){return t.id===e.target.value});console.log("Selected Service",e.target.value,t[0]),n.setState({selectedService:t[0]})}),C(w(n),"handleFirstName",function(e){n.setState({first_name:e.target.value})}),C(w(n),"handleLastName",function(e){n.setState({last_name:e.target.value})}),C(w(n),"handleEmail",function(e){n.setState({email:e.target.value})}),C(w(n),"handleDigit",function(e){n.setState({digit:e.target.value})}),n.state={complete:!1,selectedService:{name:"IV Drips",id:"iv_drips",price:100},appointmentTime:new Date,services:[{name:"IV Drips",id:"iv_drips",price:100,typeId:11399119},{name:"Infrared Sauna",id:"infra_sauna",price:200,typeId:11382872},{name:"Cryotherapy",id:"cryo_therapy",price:300,typeId:11179800},{name:"Massage",id:"massage",price:400,typeId:11399140},{name:"Booster Shpt",id:"booster_shot",price:500,typeId:11382911}],first_name:"",last_name:"",email:"",digit:""},n.submit=n.submit.bind(w(n)),n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["Component"]),n=t,(o=[{key:"submit",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,o,r,i,a,c,u,p,d,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.stripe.createToken({name:this.first_name+" "+this.last_name,email:this.email});case 2:return n=e.sent,o=n.token,r=l()(),i=this.state.first_name,a=this.state.last_name,c=this.state.selectedService,u=this.state.appointmentTime,p=this.state.email,d={amount:this.state.selectedService.price,source:o.id,email:o.email,description:this.state.selectedService.name,idempotency_key:r},m={id:c.typeId,name:c.name,duration:45,date:u,amount:c.price,firstName:i,lastName:a,email:p},e.t0=h.a.post("".concat(s.c,"/purchase"),JSON.stringify(d)),e.next=15,h.a.post("".concat(s.c,"/booking"),JSON.stringify(m)).then(function(e){console.log("BOOKING",e.data);var t=e.data.msg+c.name+"at "+u;Object(f.toast)(t)});case 15:return e.t1=e.sent,e.next=18,e.t0.then.call(e.t0,e.t1);case 18:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function a(e){y(i,o,r,a,c,"next",e)}function c(e){y(i,o,r,a,c,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.complete?P:v("div",{},void 0,v(a.Row,{},void 0,v(a.Col,{md:{span:"2",offset:"10"}},void 0,j)),v("div",{className:"checkout"},void 0,I,v(a.Form.Group,{controlId:"exampleForm.ControlSelect1"},void 0,N,v(a.Row,{},void 0,v(a.Col,{},void 0,v(a.Form.Control,{placeholder:"First Name",value:this.state.first_name,onChange:this.handleFirstName})),v(a.Col,{},void 0,v(a.Form.Control,{placeholder:"Last Name",value:this.state.last_name,onChange:this.handleLastName}))),F,v(a.Row,{},void 0,v(a.Col,{},void 0,v(a.Form.Control,{placeholder:"Email",value:this.state.email,onChange:this.handleEmail})),v(a.Col,{},void 0,v(a.Form.Control,{placeholder:"Cellphone Number",value:this.state.digit,onChange:this.handleDigit}))),T,E,v(x,{as:"select",value:this.state.selectedService.name,onChange:this.handleService},void 0,this.state.services.map(function(e){return v("option",{value:e.id},e.id,e.name)}))),L,v(O,{selected:this.state.appointmentTime,onChange:this.handleChange,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMMM d, yyyy h:mm aa",timeCaption:"time",value:this.state.appointmentTime}),R,D,v("button",{onClick:this.submit},void 0,"Send")))}}])&&g(n.prototype,o),i&&g(n,i),t}();t.a=Object(i.injectStripe)(B)}}]);